<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>sketch-001: walker</title>
	<style>
		body {
			margin:0;
		}
	</style>
</head>
<body>
	<script type="text/javascript" src="../js/p5.js"></script>
	<script>


			// function walkerDraw(){
			// 	h.map(function(dot,index){
			// 		fill(random(100,150),index,random(100,255));
			// 		rect(dot[0], dot[1], 10,10)
			// 	});
			// }

			var life;

			var walker = {
				age: 20,
				x: 0,
				y: 0,
				w: 10,
				h: 10,
				rangeWidth: {
					min:10,
					max:30
				},
				rangeHeight: {
					min:10,
					max:30
				},
				step: 5
			};


			function setup() {
				createCanvas(window.innerWidth, window.innerHeight);
				// rectMode(CENTER);
				background(240,204,0);
				adam.x = width/2;
				adam.y = height/2;
				life = new WalkerLife(adam.age);
				life.init();
			}

			function draw() {
				background(240,204,0);
				console.log(life.history);
				life.draw();
				life.update();
			}


			function WalkerLife(age){
				this.age = age;
				this.history = [];
			}


			WalkerLife.prototype.init = function(){
				this.history.push(new Walker(adam));
			};


			WalkerLife.prototype.update = function(){
				console.log('update');
				if (this.history.length == adam.age) {
					this.history.shift();
				} else {
					this.next();
				};
			};

			WalkerLife.prototype.next = function(){
				this.history.push(new Walker(this.history[this.history.length-1]));
			}

			WalkerLife.prototype.draw = function(){
				this.history.map(function(walker){
					walker.draw();
				})
			};


			function Walker(obj){
				this.x = obj.x;
				this.y = obj.y;
				this.w = obj.w;
				this.h = obj.h;
				this.step = obj.step;
			}

			Walker.prototype.update = function(){
				var fate = Math.round(random(0,3));
				switch (fate) {
					case 0:
						this.x = this.x + this.step;
						break;
					case 1:
						this.y = this.y + this.step;
						break;
					case 2:
						this.x = this.x - this.step;
						break;
					case 3:
						this.y = this.y - this.step;
						break;
					default:
						console.log('Random... so random');
				}
			};


			Walker.prototype.draw = function(){
				rect(this.x, this.y, this.w, this.h);
			};



	</script>
</body>
</html>